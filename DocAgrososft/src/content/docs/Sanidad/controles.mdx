---
title: Controles
description: Endpoint para gestionar controles en AgroSoft.
---

import ApiBaseBanner from "../../../componets/ApiEndpoint.astro";

### Descripci√≥n

Este endpoint permite la gesti√≥n de controles aplicados a afecciones en los cultivos. Incluye operaciones de consulta, creaci√≥n, actualizaci√≥n y eliminaci√≥n.

## M√©todos

### üîπ M√©todo GET

<ApiBaseBanner
  method="GET"
  path="/controles/"
  baseUrl="http://127.0.0.1:8000"
/>
Este m√©todo devuelve la lista de todos los controles registrados.

###### ‚úÖ **Respuesta exitosa (200)**
```json
[
  {
    "id": 1,
    "fk_Afeccion": 5,
    "fk_TipoControl": 2,
    "descripcion": "Control biol√≥gico aplicado",
    "fechaControl": "2025-03-27"
  }
]
```
###### ‚ùå Respuesta Error (500 - Internal Server Error)

### üîπ M√©todo POST

<ApiBaseBanner
  method="POST"
  path="/controles/"
  baseUrl="http://127.0.0.1:8000"
/>
Este m√©todo permite registrar un nuevo control.

### **Par√°metros del Request**

| Par√°metro       | Tipo     | Requerido | Descripci√≥n                     | Ejemplo                    |
|----------------|----------|-----------|---------------------------------|----------------------------|
| `fk_Afeccion`  | integer  | S√≠        | ID de la afecci√≥n asociada      | 5                          |
| `fk_TipoControl` | integer  | S√≠      | ID del tipo de control aplicado | 2                          |
| `descripcion`  | string   | S√≠        | Descripci√≥n del control         | "Aplicaci√≥n biol√≥gica"     |
| `fechaControl` | string   | S√≠        | Fecha de aplicaci√≥n (YYYY-MM-DD)| "2025-03-27"              |

---

### **Campos Requeridos**
```json
{
  "fk_Afeccion": 5,
  "fk_TipoControl": 2,
  "descripcion": "Aplicaci√≥n de control biol√≥gico",
  "fechaControl": "2025-03-27"
}
```

###### ‚úÖ Respuesta Exitosa (201 - Created)
```json
{
  "id": 3,
  "fk_Afeccion": 6,
  "fk_TipoControl": 1,
  "descripcion": "Aplicaci√≥n de control mec√°nico",
  "fechaControl": "2025-03-29"
}
```
###### ‚ùå Respuesta Error (500 - Internal Server Error)

### üîπ M√©todo PATCH

<ApiBaseBanner
  method="PATCH"
  path="/controles/{id}/"
  baseUrl="http://127.0.0.1:8000"
/>

Este m√©todo permite actualizar un control existente.

### **Par√°metros del Request**
| Par√°metro       | Tipo     | Requerido | Descripci√≥n                     | Ejemplo                        |
|----------------|----------|-----------|---------------------------------|--------------------------------|
| `fk_Afeccion`  | integer  | No        | Nuevo ID de la afecci√≥n        | 5                              |
| `fk_TipoControl` | integer | No       | Nuevo ID del tipo de control   | 2                              |
| `descripcion`  | string   | No        | Nueva descripci√≥n              | "Control biol√≥gico mejorado"  |
| `fechaControl` | string   | No        | Nueva fecha de control         | "2025-03-30"                  |

###### ‚úÖ Respuesta Exitosa (200 - Ok)
```json
{
  "id": 1,
  "fk_Afeccion": 5,
  "fk_TipoControl": 2,
  "descripcion": "Control biol√≥gico mejorado",
  "fechaControl": "2025-03-30"
}
```
###### üîç Respuesta ID No encontrado (404 - Not Found)
###### ‚ùå Respuesta Error (500 - Internal Server Error)

### üîπ M√©todo DELETE

<ApiBaseBanner
  method="DELETE"
  path="/controles/{id}/"
  baseUrl="http://127.0.0.1:8000"
/>
###### ‚úÖ Respuesta Exitosa (204 - No Content)
###### üîç Respuesta ID No encontrado (404 - Not Found)
###### ‚ùå Respuesta Error (500 - Internal Server Error)

