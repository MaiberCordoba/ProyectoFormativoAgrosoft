---
title: Plagas
description: Endpoint para gestionar plagas en AgroSoft.
---

import ApiBaseBanner from "../../../componets/ApiEndpoint.astro";

### Descripci√≥n

Este endpoint permite la gesti√≥n de plagas registradas en el sistema AgroSoft. Incluye operaciones de consulta, creaci√≥n, actualizaci√≥n y eliminaci√≥n.

## M√©todos

### üîπ M√©todo GET

<ApiBaseBanner
  method="GET"
  path="/plaga/"
  baseUrl="http://127.0.0.1:8000"
/>

Este m√©todo devuelve la lista de todas las plagas registradas.

###### ‚úÖ **Respuesta exitosa (200)**
```json
{
  "id": 1,
  "tipoPlaga": {
    "id": 2,
    "nombre": "Pulg√≥n Verde",
    "descripcion": "Insecto peque√±o que afecta cultivos de trigo y cebada.",
    "img": "https://example.com/pulgon_verde.jpg"
  },
  "nombre": "Control Biol√≥gico",
  "descripcion": "Uso de mariquitas para reducir la poblaci√≥n de pulgones en los cultivos.",
  "img": "https://example.com/control_biologico.jpg",
  "fk_Tipo": 2
}
```
###### ‚ùå Respuesta Error (500 - Internal Server Error)

### üîπ M√©todo POST

<ApiBaseBanner
  method="POST"
  path="/plaga/"
  baseUrl="http://127.0.0.1:8000"
/>

Este m√©todo permite registrar una nueva plaga.

### **Par√°metros del Request**

| Par√°metro       | Tipo     | Requerido | Descripci√≥n            | Ejemplo          |
|----------------|----------|-----------|------------------------|------------------|
| `nombre`      | string   | S√≠        | Nombre de la plaga     | "nueva plaga"   |
| `descripcion` | string   | S√≠        | Descripci√≥n de la plaga | "descripci√≥n"   |
| `img`         | string   | No        | URL de imagen opcional | "imagen.png"   |
| `fk_Tipo`     | integer  | S√≠        | ID del tipo de plaga   | 2               |

---

### **Campos Requeridos**
```json
{
  "nombre": "nueva plaga",
  "descripcion": "descripci√≥n de la plaga",
  "img": "imagen.png",
  "fk_Tipo": 2
}
```

###### ‚úÖ Respuesta Exitosa (201 - Created)
```json
{
  "id": 3,
  "nombre": "plaga creada",
  "descripcion": "descripci√≥n",
  "img": "imagen.png",
  "fk_Tipo": 2
}
```
###### ‚ùå Respuesta Error (500 - Internal Server Error)

### üîπ M√©todo PATCH

<ApiBaseBanner
  method="PATCH"
  path="/plaga/{id}/"
  baseUrl="http://127.0.0.1:8000"
/>

Este m√©todo permite actualizar una plaga existente.

### **Par√°metros del Request**
| Par√°metro       | Tipo     | Requerido | Descripci√≥n               | Ejemplo                  |
|----------------|----------|-----------|---------------------------|--------------------------|
| `id`          | integer  | S√≠        | ID de la plaga            | 1                        |
| `nombre`      | string   | No        | Nombre actualizado        | "plaga actualizada"     |
| `descripcion` | string   | No        | Descripci√≥n actualizada   | "nueva descripci√≥n"     |
| `img`         | string   | No        | URL de imagen actualizada | "nueva-imagen.png"      |
| `fk_Tipo`     | integer  | No        | ID del tipo de plaga      | 2                        |

###### ‚úÖ Respuesta Exitosa (200 - Ok)
```json
{
  "id": 1,
  "nombre": "plaga actualizada",
  "descripcion": "modificada",
  "img": "imagen_modificada.png",
  "fk_Tipo": 2
}
```
###### üîç Respuesta ID No encontrado (404 - Not Found)
###### ‚ùå Respuesta Error (500 - Internal Server Error)

### üîπ M√©todo DELETE

<ApiBaseBanner
  method="DELETE"
  path="/plaga/{id}/"
  baseUrl="http://127.0.0.1:8000"
/>
###### ‚úÖ Respuesta Exitosa (204 - No Content)
###### üîç Respuesta ID No encontrado (404 - Not Found)
###### ‚ùå Respuesta Error (500 - Internal Server Error)

