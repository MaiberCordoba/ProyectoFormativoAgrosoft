---
title: Uso de Productos con Control  
description: Endpoint para gestionar el uso de productos con control en AgroSoft.  
---

import ApiBaseBanner from "../../../componets/ApiEndpoint.astro";

### Descripci√≥n

Este endpoint permite la gesti√≥n de registros de uso de productos con control, incluyendo su creaci√≥n, consulta, actualizaci√≥n. 
Cada registro est√° asociado a un producto con control y un control espec√≠fico, e incluye la cantidad utilizada.

## M√©todos

### üîπ M√©todo GET

<ApiBaseBanner 
  method="GET" 
  path="/usoproductosControl/" 
  baseUrl="http://127.0.0.1:8000"
/>

Este m√©todo devuelve la lista de todos los registros de uso de productos con control registrados.  

###### ‚úÖ **Respuesta exitosa (200)**
```json
[
  {
    "id": 1,
    "fk_ProductoControl": {
      "id": 2,
      "nombre": "Manuel",
      "precio": 40000,
      "compuestoActivo": "H2O",
      "fichaTecnica": "2846103",
      "contenido": 100,
      "tipoContenido": "m",
      "unidades": 1
    },
    "fk_Control": {
      "id": 1,
      "descripcion": "Control biol√≥gico aplicado",
      "fechaControl": "2025-03-27"
    },
    "cantidadProducto": 50
  }
]
```

###### ‚ùå **Respuesta Error (500 - Internal Server Error)**

---

### üîπ M√©todo POST

<ApiBaseBanner 
  method="POST" 
  path="/usoproductosControl/" 
  baseUrl="http://127.0.0.1:8000"
/>

Este m√©todo permite registrar un nuevo uso de producto con control.  

### **Par√°metros del Request**

| Par√°metro           | Tipo    | Requerido | Descripci√≥n                                  | Ejemplo   |
|---------------------|---------|-----------|----------------------------------------------|-----------|
| `fk_ProductoControl` | number  | S√≠        | ID del producto con control                  | 2         |
| `fk_Control`         | number  | S√≠        | ID del control relacionado con el producto   | 1         |
| `cantidadProducto`   | number  | S√≠        | Cantidad de producto utilizada               | 50        |

---

### **Campos Requeridos**
```json
{
  "fk_ProductoControl": 2,
  "fk_Control": 1,
  "cantidadProducto": 50
}
```

###### ‚úÖ **Respuesta Exitosa (201 - Created)**
```json
{
  "id": 2,
  "fk_ProductoControl": {
    "id": 2,
    "nombre": "Manuel",
    "precio": 40000,
    "compuestoActivo": "H2O",
    "fichaTecnica": "2846103",
    "contenido": 100,
    "tipoContenido": "m",
    "unidades": 1
  },
  "fk_Control": {
    "id": 1,
    "descripcion": "Control biol√≥gico aplicado",
    "fechaControl": "2025-03-27"
  },
  "cantidadProducto": 50
}
```

###### ‚ùå **Respuesta Error (500 - Internal Server Error)**

---

### üîπ M√©todo PATCH

<ApiBaseBanner 
  method="PATCH" 
  path="/usoproductosControl/{id}/" 
  baseUrl="http://127.0.0.1:8000"
/>

Este m√©todo permite actualizar/editar un registro de uso de producto con control.  

### **Par√°metros del Request**

| Par√°metro           | Tipo    | Requerido | Descripci√≥n                                  | Ejemplo   |
|---------------------|---------|-----------|----------------------------------------------|-----------|
| `cantidadProducto`   | number  | No        | Nueva cantidad de producto utilizada        | 60        |

###### ‚úÖ **Respuesta Exitosa (200 - OK)**
```json
{
  "id": 1,
  "fk_ProductoControl": {
    "id": 2,
    "nombre": "Manuel",
    "precio": 40000,
    "compuestoActivo": "H2O",
    "fichaTecnica": "2846103",
    "contenido": 100,
    "tipoContenido": "m",
    "unidades": 1
  },
  "fk_Control": {
    "id": 1,
    "descripcion": "Control biol√≥gico aplicado",
    "fechaControl": "2025-03-27"
  },
  "cantidadProducto": 60
}
```

###### üîç **Respuesta ID No encontrado (404 - Not Found)**
###### ‚ùå **Respuesta Error (500 - Internal Server Error)**

---
